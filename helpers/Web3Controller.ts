import Web3 from "web3";
import NAEX_NFT_ABI from "../constants/abi/nft.json";
import server from "./axios";
// import createAccount from "../redux/actions/account/createAccount";
// import updateAccount from "../redux/actions/account/updateAccount";

const CONTRACT_ADDRESS = process.env.NEXT_PUBLIC_CONTRACT_ADDRESS;

class Web3Controller {
  web3: any;
  // @ts-ignore
  ethereum: any = window.ethereum;
  naexContract: any;

  supportedBrowser = this.ethereum ? true : false;

  BLOCKS: Array<Number> = [];

  constructor() {
    this.web3 = new Web3(this.ethereum);

    const contract = new this.web3.eth.Contract(NAEX_NFT_ABI, CONTRACT_ADDRESS);
    this.naexContract = contract;
  }

  async connectWallet(): Promise<string | undefined> {
    if (this.ethereum) {
      const accounts = await this.ethereum.request({
        method: "eth_requestAccounts",
      });
      this.address = accounts[0];
      return accounts[0];
    }
    return undefined;
  }

  async getContractBalance(): Promise<Number> {
    const balance = await this.naexContract.methods.contractBalance().call();
    return this.web3.utils.fromWei(balance, "ether");
  }

  convertFromWeiToEth = (balance: string) => {
    return Number(this.web3.utils.fromWei(balance, "ether")).toFixed(2);
  };

  mintToken(address: string, amount: number, dispatch: any) {
    const encoded = this.naexContract.methods.mint(amount).encodeABI();
    const tx = {
      from: address,
      to: CONTRACT_ADDRESS,
      data: encoded,
      nonce: "0x00",
      gas: "21000",
      masFeePerGas: "150000",
    };

    this.ethereum
      .request({ method: "eth_sendTransaction", params: [tx] })
      .then((transactionHash: string) => {
        // updateAccount(
        //   { owner: address, accountNumber },
        //   {
        //     transactionHash,
        //     type: "close_account",
        //   }
        // )(dispatch);
      })
      .catch((error: any) => console.log("ðŸš€ --- mint token --- error", error));
  }

  isDuplicate(blockNumber: Number) {
    if (this.BLOCKS.includes(blockNumber)) return true;
    this.BLOCKS.push(blockNumber);
    return false;
  }

  listenToEvents(address: string) {
    console.log("\nEvent Listening Started.\n");

    this.naexContract.events.TokenMinted(
      { fromBlock: "latest", filter: { owner: [address] } },
      async (error: any, result: any) => {
        if (error) {
          console.log("ðŸš€ --- listenToEvents --- error", error);
          return;
        }

        if (!this.isDuplicate(result.blockNumber)) {
          const data = {
            tokenId: result.returnValues.tokenId as number,
            amount: result.returnValues.amount as string,
            owner: String(result.returnValues.owner).toLowerCase(),
            name: "Test name",
            description: "Nft minting test",
            image:
              "data:image/jpeg;base64,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",
            // blockNumber: result.blockNumber,
            // blockHash: result.blockHash,
            // signature: result.signature,
          };
          switch (result.event) {
            case "TokenMinted":
              const res = await server.post("/", data);
              // const { status, message, data: resData } = res.data;

              // if (status !== 201) throw new Error(message);

              break;
          }
        }
      }
    );
  }
}

export default Web3Controller;
